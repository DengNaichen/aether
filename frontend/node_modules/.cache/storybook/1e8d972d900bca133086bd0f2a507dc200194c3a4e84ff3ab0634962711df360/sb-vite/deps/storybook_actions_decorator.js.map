{"version":3,"file":"storybook_actions_decorator.js","names":["E","R","S"],"sources":["../../../../../storybook/dist/actions/decorator.js"],"sourcesContent":["var D = Object.defineProperty;\nvar r = (e, n) => D(e, \"name\", { value: n, configurable: !0 });\n\n// src/actions/decorator.ts\nimport { makeDecorator as P, useEffect as x } from \"storybook/preview-api\";\n\n// src/actions/constants.ts\nvar h = \"actions\", y = \"storybook/actions\", $ = `${y}/panel`, g = `${y}/action-event`, B = `${y}/action-clear`;\n\n// src/actions/runtime/action.ts\nimport { ImplicitActionsDuringRendering as R } from \"storybook/internal/preview-errors\";\nimport { global as E } from \"@storybook/global\";\nimport { addons as S } from \"storybook/preview-api\";\n\n// src/actions/runtime/configureActions.ts\nvar a = {\n  depth: 10,\n  clearOnStoryChange: !0,\n  limit: 50\n};\n\n// src/actions/runtime/action.ts\nvar A = /* @__PURE__ */ r((e, n) => {\n  let t = Object.getPrototypeOf(e);\n  return !t || n(t) ? t : A(t, n);\n}, \"findProto\"), j = /* @__PURE__ */ r((e) => !!(typeof e == \"object\" && e && A(e, (n) => /^Synthetic(?:Base)?Event$/.test(n.constructor.name)) &&\ntypeof e.persist == \"function\"), \"isReactSyntheticEvent\"), I = /* @__PURE__ */ r((e) => {\n  if (j(e)) {\n    let n = Object.create(\n      e.constructor.prototype,\n      Object.getOwnPropertyDescriptors(e)\n    );\n    n.persist();\n    let t = Object.getOwnPropertyDescriptor(n, \"view\"), o = t?.value;\n    return typeof o == \"object\" && o?.constructor.name === \"Window\" && Object.defineProperty(n, \"view\", {\n      ...t,\n      value: Object.create(o.constructor.prototype)\n    }), n;\n  }\n  return e;\n}, \"serializeArg\");\nfunction O(e, n = {}) {\n  let t = {\n    ...a,\n    ...n\n  }, o = /* @__PURE__ */ r(function(...i) {\n    if (n.implicit) {\n      let d = (\"__STORYBOOK_PREVIEW__\" in E ? E.__STORYBOOK_PREVIEW__ : void 0)?.storyRenders.find(\n        (c) => c.phase === \"playing\" || c.phase === \"rendering\"\n      );\n      if (d) {\n        let c = !globalThis?.FEATURES?.disallowImplicitActionsInRenderV8, u = new R({\n          phase: d.phase,\n          name: e,\n          deprecated: c\n        });\n        if (c)\n          console.warn(u);\n        else\n          throw u;\n      }\n    }\n    let m = S.getChannel(), p = Date.now().toString(36) + Math.random().toString(36).substring(2), l = 5, f = i.map(I), w = i.length > 1 ? f :\n    f[0], _ = {\n      id: p,\n      count: 0,\n      data: { name: e, args: w },\n      options: {\n        ...t,\n        maxDepth: l + (t.depth || 3)\n      }\n    };\n    m.emit(g, _);\n  }, \"actionHandler\");\n  return o.isAction = !0, o.implicit = n.implicit, o;\n}\nr(O, \"action\");\n\n// src/actions/runtime/actions.ts\nvar b = /* @__PURE__ */ r((...e) => {\n  let n = a, t = e;\n  t.length === 1 && Array.isArray(t[0]) && ([t] = t), t.length !== 1 && typeof t[t.length - 1] != \"string\" && (n = {\n    ...a,\n    ...t.pop()\n  });\n  let o = t[0];\n  (t.length !== 1 || typeof o == \"string\") && (o = {}, t.forEach((i) => {\n    o[i] = i;\n  }));\n  let s = {};\n  return Object.keys(o).forEach((i) => {\n    s[i] = O(o[i], n);\n  }), s;\n}, \"actions\");\n\n// src/actions/decorator.ts\nvar T = /^(\\S+)\\s*(.*)$/, k = Element != null && !Element.prototype.matches, F = k ? \"msMatchesSelector\" : \"matches\", v = /* @__PURE__ */ r(\n(e, n) => {\n  if (e[F](n))\n    return !0;\n  let t = e.parentElement;\n  return t ? v(t, n) : !1;\n}, \"hasMatchInAncestry\"), M = /* @__PURE__ */ r((e, ...n) => {\n  let t = e(...n);\n  return Object.entries(t).map(([o, s]) => {\n    let [i, m, p] = o.match(T) || [];\n    return {\n      eventName: m,\n      handler: /* @__PURE__ */ r((l) => {\n        (!p || v(l.target, p)) && s(l);\n      }, \"handler\")\n    };\n  });\n}, \"createHandlers\"), C = /* @__PURE__ */ r((e, ...n) => {\n  let t = typeof globalThis.document < \"u\" && globalThis.document.getElementById(\"storybook-root\");\n  x(() => {\n    if (t) {\n      let o = M(e, ...n);\n      return o.forEach(({ eventName: s, handler: i }) => t.addEventListener(s, i)), () => o.forEach(({ eventName: s, handler: i }) => t.removeEventListener(\n      s, i));\n    }\n  }, [t, e, n]);\n}, \"applyEventHandlers\"), rt = P({\n  name: \"withActions\",\n  parameterName: h,\n  skipIfNoParametersOrOptions: !0,\n  wrapper: /* @__PURE__ */ r((e, n, { parameters: t }) => (t?.handles && C(b, ...t.handles), e(n)), \"wrapper\")\n});\nexport {\n  rt as withActions\n};\n"],"mappings":"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"}