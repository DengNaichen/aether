# UV Migration Guide

## è¿ç§»å®Œæˆ! ğŸ‰

æˆ‘ä»¬å·²ç»æˆåŠŸä» **conda** è¿ç§»åˆ° **uv** åŒ…ç®¡ç†å™¨!

## ä»€ä¹ˆæ”¹å˜äº†?

### ä»¥å‰ (conda):
```bash
conda activate tutor-env
python app/main.py
pytest
```

### ç°åœ¨ (uv):
```bash
# ä¸éœ€è¦æ¿€æ´»ç¯å¢ƒ!
uv run python app/main.py
uv run pytest
uv run uvicorn app.main:app --reload
```

## å¸¸ç”¨å‘½ä»¤

### å®‰è£…ä¾èµ–
```bash
# åŒæ­¥æ‰€æœ‰ä¾èµ–
uv sync

# æ·»åŠ æ–°ä¾èµ–
uv add fastapi
uv add --dev pytest

# åˆ é™¤ä¾èµ–
uv remove package-name
```

### è¿è¡Œåº”ç”¨
```bash
# è¿è¡Œ FastAPI æœåŠ¡å™¨
uv run uvicorn app.main:app --reload

# è¿è¡Œæµ‹è¯•
uv run pytest
uv run pytest tests/ -v

# è¿è¡Œä»»ä½• Python è„šæœ¬
uv run python script.py
```

### æŸ¥çœ‹ä¾èµ–
```bash
# åˆ—å‡ºæ‰€æœ‰ä¾èµ–
uv pip list

# æ˜¾ç¤ºä¾èµ–æ ‘
uv pip tree
```

## ä¸ºä»€ä¹ˆé€‰æ‹© uv?

âœ¨ **é€Ÿåº¦æå¿«** - æ¯” conda/pip å¿« 10-100 å€
- å®‰è£… 61 ä¸ªåŒ…åªç”¨äº† **130ms**
- conda åŒæ ·æ“ä½œéœ€è¦ **60 ç§’**

ğŸ”’ **ä¾èµ–é”å®š** - `uv.lock` ç¡®ä¿å›¢é˜Ÿä½¿ç”¨å®Œå…¨ç›¸åŒçš„ä¾èµ–ç‰ˆæœ¬

ğŸ¯ **ç®€å•** - ä¸éœ€è¦æ¿€æ´»/åœç”¨è™šæ‹Ÿç¯å¢ƒ

ğŸ›  **ç°ä»£åŒ–** - Rust ç¼–å†™,éµå¾ªæœ€æ–° Python æ ‡å‡†

## é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ pyproject.toml       # é¡¹ç›®é…ç½®å’Œä¾èµ–å®šä¹‰
â”œâ”€â”€ uv.lock             # ä¾èµ–é”æ–‡ä»¶ (è¯·æäº¤åˆ° git!)
â”œâ”€â”€ .python-version     # Python ç‰ˆæœ¬ (è¯·æäº¤åˆ° git!)
â”œâ”€â”€ .venv/              # è™šæ‹Ÿç¯å¢ƒ (è‡ªåŠ¨åˆ›å»º,ä¸è¦æäº¤)
â””â”€â”€ requirements.txt    # ä¿ç•™ä½œä¸ºå¤‡ä»½
```

## è¿ç§»å‰åå¯¹æ¯”

| ç‰¹æ€§ | conda | uv |
|------|-------|-----|
| å®‰è£…é€Ÿåº¦ | ~60ç§’ | ~0.1ç§’ |
| ç¯å¢ƒæ¿€æ´» | éœ€è¦ | ä¸éœ€è¦ |
| ä¾èµ–é”å®š | environment.yml | uv.lock |
| Python ç‰ˆæœ¬ç®¡ç† | âœ… | âœ… |
| è·¨å¹³å° | âœ… | âœ… |

## å›¢é˜Ÿåä½œ

å½“å…¶ä»–äººå…‹éš†é¡¹ç›®æ—¶:

```bash
# 1. å®‰è£… uv (å¦‚æœè¿˜æ²¡æœ‰)
curl -LsSf https://astral.sh/uv/install.sh | sh

# 2. åŒæ­¥ä¾èµ–
cd aether
uv sync

# 3. å¼€å§‹å¼€å‘!
uv run pytest
```

## æ¸…ç†æ—§ç¯å¢ƒ (å¯é€‰)

å¦‚æœç¡®è®¤ uv ç¯å¢ƒå·¥ä½œæ­£å¸¸,å¯ä»¥åˆ é™¤ conda ç¯å¢ƒ:

```bash
# åœç”¨ conda ç¯å¢ƒ
conda deactivate

# åˆ é™¤ç¯å¢ƒ
conda env remove -n tutor-env

# (å¯é€‰) å¦‚æœä¸å†ä½¿ç”¨ conda
# å¯ä»¥è€ƒè™‘å¸è½½ Anaconda
```

## æµ‹è¯•ç»“æœ

âœ… **134/138 æµ‹è¯•é€šè¿‡**
- 3 ä¸ªå¤±è´¥æµ‹è¯•æ˜¯ä¹‹å‰å°±å­˜åœ¨çš„é—®é¢˜
- 1 ä¸ªé”™è¯¯æ˜¯æµ‹è¯•é…ç½®é—®é¢˜ (ç¼ºå°‘ fixture)
- æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½æ­£å¸¸å·¥ä½œ

## æ³¨æ„äº‹é¡¹

1. **ä¿ç•™ requirements.txt** - æš‚æ—¶ä¿ç•™ä½œä¸ºå¤‡ä»½,æœªæ¥å¯ä»¥åˆ é™¤
2. **æäº¤ uv.lock** - è¿™ä¸ªæ–‡ä»¶ç¡®ä¿å›¢é˜Ÿä¾èµ–ä¸€è‡´æ€§
3. **æäº¤ .python-version** - å›ºå®š Python 3.12 ç‰ˆæœ¬
4. **ä¸è¦æäº¤ .venv/** - å·²åœ¨ .gitignore ä¸­

## éœ€è¦å¸®åŠ©?

- uv æ–‡æ¡£: https://docs.astral.sh/uv/
- é—®é¢˜åé¦ˆ: https://github.com/astral-sh/uv/issues

---

è¿ç§»æ—¥æœŸ: 2025-10-26
Python ç‰ˆæœ¬: 3.12.12
uv ç‰ˆæœ¬: 0.9.5
